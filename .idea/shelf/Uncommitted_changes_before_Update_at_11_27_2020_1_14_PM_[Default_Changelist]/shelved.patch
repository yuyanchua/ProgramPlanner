Index: app/src/main/java/com/example/myapplication/activity/SignUpActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.myapplication.activity;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.EditText;\r\nimport android.widget.Spinner;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\n\r\nimport com.example.myapplication.R;\r\nimport com.example.myapplication.element.Question;\r\nimport com.example.myapplication.element.User;\r\nimport com.example.myapplication.engine.SignUp;\r\nimport com.google.android.material.floatingactionbutton.FloatingActionButton;\r\n\r\npublic class SignUpActivity extends AppCompatActivity {\r\n\r\n    TextView errView;\r\n    Spinner questionSpin;\r\n\r\n    @Override\r\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n        if (getSupportActionBar() != null) {\r\n            getSupportActionBar().hide();\r\n        }\r\n\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_sign_up);\r\n\r\n        errView = findViewById(R.id.errorMessage);\r\n        errView.setVisibility(View.INVISIBLE);\r\n\r\n        questionSpin = findViewById(R.id.spinnerSecurityQuestion);\r\n\r\n        ArrayAdapter<String> questionAdapter = new ArrayAdapter<String>(this, R.layout.support_simple_spinner_dropdown_item, Question.QUESTION);\r\n        questionAdapter.setDropDownViewResource(R.layout.support_simple_spinner_dropdown_item);\r\n        questionSpin.setAdapter(questionAdapter);\r\n\r\n\r\n        FloatingActionButton btSignUp = findViewById(R.id.buttonNextStep);\r\n        btSignUp.setOnClickListener(v -> signup());\r\n    }\r\n\r\n    private String getEditValue(int id){\r\n        EditText tempEdit = findViewById(id);\r\n        return tempEdit.getText().toString();\r\n    }\r\n\r\n    private void signup(){\r\n\r\n        String name = getEditValue(R.id.enterAccountName);\r\n        String pass = getEditValue(R.id.enterPassword);\r\n        String repass = getEditValue(R.id.reEnterPassword);\r\n        String answer = getEditValue(R.id.enterAnswer);\r\n\r\n\r\n        questionSpin = findViewById(R.id.spinnerSecurityQuestion);\r\n        int quesIndex = questionSpin.getSelectedItemPosition();\r\n\r\n        if(!pass.equals(repass)){\r\n            //Error\r\n//            errView.setText(\"Password incorrect\");\r\n//            errView.setVisibility(View.VISIBLE);\r\n            setErrView(\"Password incorrect\");\r\n            return;\r\n        }\r\n\r\n        if(name.isEmpty() || pass.isEmpty() || repass.isEmpty() || answer.isEmpty()){\r\n            setErrView(\"Fields are Empty\");\r\n            return;\r\n        }\r\n\r\n//        if(name.length() == 0 || pass.length() == 0 || repass.length() == 0\r\n//                || answer.length() == 0){\r\n//            errView.setText(\"Fields are empty\");\r\n//            errView.setVisibility(View.VISIBLE);\r\n//            return;\r\n//        }\r\n        //TODO: Password policy Verification?\r\n\r\n        User user  = new User(name, pass, quesIndex, answer);\r\n        new SignUp(this, user);\r\n//        signupApp.signup();\r\n//        signUpToDatabase(name, pass, quesIndex, answer);\r\n    }\r\n\r\n//    private void signUpToDatabase(String name, String pass, int quesIndex, String answer){\r\n//        byte[] password = pass.getBytes();\r\n//        MessageDigest md = null;\r\n//        try {\r\n//            md = MessageDigest.getInstance(\"SHA-256\");\r\n//        } catch (NoSuchAlgorithmException e) {\r\n//            e.printStackTrace();\r\n//        }\r\n//        md.update(password);\r\n//        byte[] digest = md.digest();\r\n//        StringBuffer hex = new StringBuffer();\r\n//        for(int i = 0; i < digest.length; i++){\r\n//            hex.append(Integer.toString((digest[i]&0xff) + 0x100, 16).substring(1));\r\n//        }\r\n//        String pass_in_string = hex.toString();\r\n//        user = new User(name, pass_in_string, quesIndex, answer);\r\n//        final String Name = name;\r\n//        users.addListenerForSingleValueEvent(new ValueEventListener() {\r\n//            @Override\r\n//            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n//                if(dataSnapshot.child(Name).exists()){\r\n//                    errView.setText(\"Username is already in database\");\r\n//                    errView.setVisibility(View.VISIBLE);\r\n//                }\r\n//                else {\r\n//                    users.child(Name).setValue(user);\r\n//                    Toast.makeText(getApplicationContext(), \"Sign up successfully!\", Toast.LENGTH_SHORT).show();\r\n//                }\r\n//                Intent intent = new Intent(SignUpActivity.this, MainActivity.class);\r\n//                intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n//                startActivity(intent);\r\n//            }\r\n//            @Override\r\n//            public void onCancelled(@NonNull DatabaseError databaseError) {\r\n//            }\r\n//        });\r\n//    }\r\n\r\n    public void setErrView(String errMsg){\r\n        errView.setText(errMsg);\r\n        errView.setVisibility(View.VISIBLE);\r\n    }\r\n\r\n    public void finishSignUp(){\r\n        Toast.makeText(getApplicationContext(), \"SignUp successfully\", Toast.LENGTH_SHORT).show();\r\n        Intent intent = new Intent(SignUpActivity.this, MainActivity.class);\r\n        intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n        startActivity(intent);\r\n    }\r\n\r\n    //Getter added for testing purposes by Henry Koenig\r\n    public TextView getErrView() {\r\n        return errView;\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/myapplication/activity/SignUpActivity.java	(revision 98839fb85b6c8de9f73f8623b732920ef3e82629)
+++ app/src/main/java/com/example/myapplication/activity/SignUpActivity.java	(date 1606504436659)
@@ -76,57 +76,12 @@
             return;
         }
 
-//        if(name.length() == 0 || pass.length() == 0 || repass.length() == 0
-//                || answer.length() == 0){
-//            errView.setText("Fields are empty");
-//            errView.setVisibility(View.VISIBLE);
-//            return;
-//        }
         //TODO: Password policy Verification?
 
         User user  = new User(name, pass, quesIndex, answer);
         new SignUp(this, user);
-//        signupApp.signup();
-//        signUpToDatabase(name, pass, quesIndex, answer);
     }
 
-//    private void signUpToDatabase(String name, String pass, int quesIndex, String answer){
-//        byte[] password = pass.getBytes();
-//        MessageDigest md = null;
-//        try {
-//            md = MessageDigest.getInstance("SHA-256");
-//        } catch (NoSuchAlgorithmException e) {
-//            e.printStackTrace();
-//        }
-//        md.update(password);
-//        byte[] digest = md.digest();
-//        StringBuffer hex = new StringBuffer();
-//        for(int i = 0; i < digest.length; i++){
-//            hex.append(Integer.toString((digest[i]&0xff) + 0x100, 16).substring(1));
-//        }
-//        String pass_in_string = hex.toString();
-//        user = new User(name, pass_in_string, quesIndex, answer);
-//        final String Name = name;
-//        users.addListenerForSingleValueEvent(new ValueEventListener() {
-//            @Override
-//            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {
-//                if(dataSnapshot.child(Name).exists()){
-//                    errView.setText("Username is already in database");
-//                    errView.setVisibility(View.VISIBLE);
-//                }
-//                else {
-//                    users.child(Name).setValue(user);
-//                    Toast.makeText(getApplicationContext(), "Sign up successfully!", Toast.LENGTH_SHORT).show();
-//                }
-//                Intent intent = new Intent(SignUpActivity.this, MainActivity.class);
-//                intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);
-//                startActivity(intent);
-//            }
-//            @Override
-//            public void onCancelled(@NonNull DatabaseError databaseError) {
-//            }
-//        });
-//    }
 
     public void setErrView(String errMsg){
         errView.setText(errMsg);
